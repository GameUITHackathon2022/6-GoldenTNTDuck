{"ast":null,"code":"var _jsxFileName = \"/home/hoaithi/git/uit-hackathon-main-template/src/views/Auth/SignIn.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { AuthContext } from \"../../context/authContext\";\nimport Button from \"@mui/material/Button\";\nimport Avatar from \"@mui/material/Avatar\";\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport Input from \"../../components/Input\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport signInSchema from \"../../schema/signIn\";\nimport axiosClient from \"../../api/axiosClient\";\nimport { Navigate } from \"react-router\";\nimport { Link as LinkRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme();\nconst SignIn = () => {\n  _s();\n  var _errors$email, _errors$password;\n  const [isSuccess, setIsSuccess] = useState(false);\n  const {\n    setCurrentUser\n  } = useContext(AuthContext);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(signInSchema)\n  });\n  const onSubmit = async data => {\n    try {\n      const response = await axiosClient.post(\"/users/sign_in\", data);\n      setCurrentUser(response.data.data);\n      const localStorageTokenName = \"guh_token\";\n      if (response.data.status === 'success') {\n        localStorage[localStorageTokenName] = response.headers.authorization.slice(7);\n        setIsSuccess(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  if (isSuccess) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 25\n  }, this);else return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            m: 1,\n            bgcolor: \"secondary.main\"\n          },\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit(onSubmit),\n          noValidate: true,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            ...register(\"email\"),\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            label: \"Email\",\n            error: !!errors.email,\n            helperText: errors === null || errors === void 0 ? void 0 : (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            ...register(\"password\"),\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            label: \"Password\",\n            error: !!errors.password,\n            helperText: errors === null || errors === void 0 ? void 0 : (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2,\n              backgroundColor: \"#047857\"\n            },\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(LinkRouter, {\n                to: \"/sign-up\",\n                className: \"text-emerald-700 hover:font-bold\",\n                children: \"Don't have an account? Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n};\n_s(SignIn, \"Jp1uAuDow6LeElR9p0kk3424G3c=\", false, function () {\n  return [useForm];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","useContext","AuthContext","Button","Avatar","LockOutlinedIcon","CssBaseline","Grid","Box","Typography","Container","createTheme","ThemeProvider","Input","useForm","yupResolver","signInSchema","axiosClient","Navigate","Link","LinkRouter","theme","SignIn","isSuccess","setIsSuccess","setCurrentUser","register","handleSubmit","formState","errors","mode","resolver","onSubmit","data","response","post","localStorageTokenName","status","localStorage","headers","authorization","slice","error","console","log","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","email","message","password","mb","backgroundColor"],"sources":["/home/hoaithi/git/uit-hackathon-main-template/src/views/Auth/SignIn.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { AuthContext } from \"../../context/authContext\";\nimport Button from \"@mui/material/Button\";\nimport Avatar from \"@mui/material/Avatar\";\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport Input from \"../../components/Input\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport signInSchema from \"../../schema/signIn\";\nimport axiosClient from \"../../api/axiosClient\";\nimport { Navigate } from \"react-router\";\nimport {Link as LinkRouter } from 'react-router-dom'\n\nconst theme = createTheme();\n\nconst SignIn = () => {\n  const [isSuccess, setIsSuccess] = useState(false);\n  const { setCurrentUser } = useContext(AuthContext);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(signInSchema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      const response = await axiosClient.post(\"/users/sign_in\", data);\n      setCurrentUser(response.data.data);\n      const localStorageTokenName = \"guh_token\"\n      if (response.data.status === 'success') {\n        localStorage[localStorageTokenName] = response.headers.authorization.slice(7)\n        setIsSuccess(true);\n        \n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (isSuccess) return <Navigate to=\"/dashboard\" />;\n  else\n    return (\n      <ThemeProvider theme={theme}>\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <Box\n            sx={{\n              marginTop: 8,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign In\n            </Typography>\n            <Box\n              component=\"form\"\n              onSubmit={handleSubmit(onSubmit)}\n              noValidate\n              sx={{ mt: 1 }}\n            >\n              <Input\n                {...register(\"email\")}\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                label=\"Email\"\n                error={!!errors.email}\n                helperText={errors?.email?.message}\n              />\n              <Input\n                {...register(\"password\")}\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n                label=\"Password\"\n                error={!!errors.password}\n                helperText={errors?.password?.message}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2, backgroundColor: \"#047857\"}}\n              >\n                Sign In\n              </Button>\n              <Grid container>\n                <Grid item xs>\n                </Grid>\n                <Grid item>\n                  <LinkRouter to=\"/sign-up\" className=\"text-emerald-700 hover:font-bold\">\n                    Don't have an account? Sign Up\n                  </LinkRouter>\n                </Grid>\n              </Grid>\n            </Box>\n          </Box>\n        </Container>\n      </ThemeProvider>\n    );\n};\n\nexport default SignIn;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,2BAA2B;AACvD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,WAAW,EAAEC,aAAa,QAAQ,sBAAsB;AACjE,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,SAASC,QAAQ,QAAQ,cAAc;AACvC,SAAQC,IAAI,IAAIC,UAAU,QAAQ,kBAAkB;AAAA;AAEpD,MAAMC,KAAK,GAAGV,WAAW,EAAE;AAE3B,MAAMW,MAAM,GAAG,MAAM;EAAA;EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAEyB;EAAe,CAAC,GAAGxB,UAAU,CAACC,WAAW,CAAC;EAClD,MAAM;IACJwB,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO;EACtB,CAAC,GAAGf,OAAO,CAAC;IACVgB,IAAI,EAAE,QAAQ;IACdC,QAAQ,EAAEhB,WAAW,CAACC,YAAY;EACpC,CAAC,CAAC;EAEF,MAAMgB,QAAQ,GAAG,MAAOC,IAAI,IAAK;IAC/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMjB,WAAW,CAACkB,IAAI,CAAC,gBAAgB,EAAEF,IAAI,CAAC;MAC/DR,cAAc,CAACS,QAAQ,CAACD,IAAI,CAACA,IAAI,CAAC;MAClC,MAAMG,qBAAqB,GAAG,WAAW;MACzC,IAAIF,QAAQ,CAACD,IAAI,CAACI,MAAM,KAAK,SAAS,EAAE;QACtCC,YAAY,CAACF,qBAAqB,CAAC,GAAGF,QAAQ,CAACK,OAAO,CAACC,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC;QAC7EjB,YAAY,CAAC,IAAI,CAAC;MAEpB;IACF,CAAC,CAAC,OAAOkB,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,IAAInB,SAAS,EAAE,oBAAO,QAAC,QAAQ;IAAC,EAAE,EAAC;EAAY;IAAA;IAAA;IAAA;EAAA,QAAG,CAAC,KAEjD,oBACE,QAAC,aAAa;IAAC,KAAK,EAAEF,KAAM;IAAA,uBAC1B,QAAC,SAAS;MAAC,SAAS,EAAC,MAAM;MAAC,QAAQ,EAAC,IAAI;MAAA,wBACvC,QAAC,WAAW;QAAA;QAAA;QAAA;MAAA,QAAG,eACf,QAAC,GAAG;QACF,EAAE,EAAE;UACFwB,SAAS,EAAE,CAAC;UACZC,OAAO,EAAE,MAAM;UACfC,aAAa,EAAE,QAAQ;UACvBC,UAAU,EAAE;QACd,CAAE;QAAA,wBAEF,QAAC,MAAM;UAAC,EAAE,EAAE;YAAEC,CAAC,EAAE,CAAC;YAAEC,OAAO,EAAE;UAAiB,CAAE;UAAA,uBAC9C,QAAC,gBAAgB;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QACb,eACT,QAAC,UAAU;UAAC,SAAS,EAAC,IAAI;UAAC,OAAO,EAAC,IAAI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAE1B,eACb,QAAC,GAAG;UACF,SAAS,EAAC,MAAM;UAChB,QAAQ,EAAEvB,YAAY,CAACK,QAAQ,CAAE;UACjC,UAAU;UACV,EAAE,EAAE;YAAEmB,EAAE,EAAE;UAAE,CAAE;UAAA,wBAEd,QAAC,KAAK;YAAA,GACAzB,QAAQ,CAAC,OAAO,CAAC;YACrB,IAAI,EAAC,OAAO;YACZ,EAAE,EAAC,OAAO;YACV,IAAI,EAAC,OAAO;YACZ,KAAK,EAAC,OAAO;YACb,KAAK,EAAE,CAAC,CAACG,MAAM,CAACuB,KAAM;YACtB,UAAU,EAAEvB,MAAM,aAANA,MAAM,wCAANA,MAAM,CAAEuB,KAAK,kDAAb,cAAeC;UAAQ;YAAA;YAAA;YAAA;UAAA,QACnC,eACF,QAAC,KAAK;YAAA,GACA3B,QAAQ,CAAC,UAAU,CAAC;YACxB,IAAI,EAAC,UAAU;YACf,EAAE,EAAC,UAAU;YACb,IAAI,EAAC,UAAU;YACf,KAAK,EAAC,UAAU;YAChB,KAAK,EAAE,CAAC,CAACG,MAAM,CAACyB,QAAS;YACzB,UAAU,EAAEzB,MAAM,aAANA,MAAM,2CAANA,MAAM,CAAEyB,QAAQ,qDAAhB,iBAAkBD;UAAQ;YAAA;YAAA;YAAA;UAAA,QACtC,eACF,QAAC,MAAM;YACL,IAAI,EAAC,QAAQ;YACb,SAAS;YACT,OAAO,EAAC,WAAW;YACnB,EAAE,EAAE;cAAEF,EAAE,EAAE,CAAC;cAAEI,EAAE,EAAE,CAAC;cAAEC,eAAe,EAAE;YAAS,CAAE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAGzC,eACT,QAAC,IAAI;YAAC,SAAS;YAAA,wBACb,QAAC,IAAI;cAAC,IAAI;cAAC,EAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QACN,eACP,QAAC,IAAI;cAAC,IAAI;cAAA,uBACR,QAAC,UAAU;gBAAC,EAAE,EAAC,UAAU;gBAAC,SAAS,EAAC,kCAAkC;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAEzD;cAAA;cAAA;cAAA;YAAA,QACR;UAAA;YAAA;YAAA;YAAA;UAAA,QACF;QAAA;UAAA;UAAA;UAAA;QAAA,QACH;MAAA;QAAA;QAAA;QAAA;MAAA,QACF;IAAA;MAAA;MAAA;MAAA;IAAA;EACI;IAAA;IAAA;IAAA;EAAA,QACE;AAEtB,CAAC;AAAC,GA7FIlC,MAAM;EAAA,QAONR,OAAO;AAAA;AAAA,KAPPQ,MAAM;AA+FZ,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}